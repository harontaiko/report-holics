function readURL(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#product-avatar").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}function sleep(e){return new Promise(t=>setTimeout(t,e))}function FilterInventory(){(function(e){"use strict";var t=function(t){function l(l){o=l.target;var a=e.getElementsByClassName(o.getAttribute("data-table"));t.forEach.call(a,function(e){t.forEach.call(e.tBodies,function(e){t.forEach.call(e.rows,n)})})}function n(e){var t=e.textContent.toLowerCase(),l=o.value.toLowerCase();e.style.display=-1===t.indexOf(l)?"none":"table-row"}var o;return{init:function(){var n=e.getElementsByClassName("light-table-filter");t.forEach.call(n,function(e){e.oninput=l})}}}(Array.prototype);e.addEventListener("readystatechange",function(){"complete"===e.readyState&&t.init()})})(document)}var hostUrl=document.querySelector("link[rel='host']").getAttribute("href");UTIL={fire:function(e,t,l){var n=dailyreport;t=void 0===t?"init":t,""!==e&&n[e]&&"function"==typeof n[e][t]&&n[e][t](l)},loadEvents:function(){var e=document.body.id;UTIL.fire("common"),$.each(document.body.className.split(/\s+/),function(t,l){UTIL.fire(l),UTIL.fire(l,e)}),UTIL.fire("common","finalize")}},$(document).ready(UTIL.loadEvents),dailyreport={__dailyreport:{init:function(){$("#latest-record").animate({opacity:0},1e3),$("#latest-record").animate({opacity:1},1e3),sleep(4700).then(()=>{$("#latest-record").animate({opacity:0},0),$("#latest-record").animate({opacity:1},0)}),FilterInventory(),$("#toggler").click(function(){$("#vertical-navigation").toggleClass("v-nav-expand")});const e=document.querySelectorAll("#nav-tabs > a");e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")})})}},__login:{init:function(){const e=document.getElementById("login-pwd");e.onpaste=(e=>(e.preventDefault(),!1)),$(".message a").click(function(){$("form").animate({height:"toggle",opacity:"toggle"},"slow")})}},__add:{init:function(){document.getElementById("date").valueAsDate=new Date,FilterInventory();const e=document.getElementById("cyber-cash"),t=document.getElementById("cyber-till"),l=document.getElementById("ps-cash"),n=document.getElementById("ps-till"),o=document.getElementById("movie-cash"),a=document.getElementById("movie-till"),d=document.getElementById("sales-cash"),s=document.getElementById("sales-till"),r=document.getElementById("bought-price"),c=document.getElementById("sales-profit");document.getElementById("expense-value");d.addEventListener("input",function(){""!==s.value?(s.style.border="2px solid red",s.style.outline="none",document.getElementsByName("sales-till")[0].placeholder="fill one only",sleep(1e3).then(()=>{document.getElementsByName("sales-till")[0].placeholder="sell..till/other",s.style.border="",s.style.outline="",s.value=""})):""==d.value?c.value=0:c.value=d.value-r.value}),s.addEventListener("input",function(){""!==d.value?(d.style.border="2px solid red",d.style.outline="none",document.getElementsByName("sales-cash")[0].placeholder="fill one only",sleep(1e3).then(()=>{document.getElementsByName("sales-till")[0].placeholder="sell..cash",d.style.border="",d.style.outline="",d.value=""})):""==s.value?c.value=0:c.value=s.value-r.value});$(document).on("input",".income-calc",function(){var e=0;$(".income-calc").each(function(){e+=+$(this).val()}),$("#total-cash").val(e);$("#total-cash").val(e);document.getElementById("total-sales-out-cash").innerHTML=`cash total: ${e}`}),$(document).on("input",".income-calc-till",function(){var e=0;$(".income-calc-till").each(function(){e+=+$(this).val()}),$("#total-till").val(e);$("#total-till").val(e);document.getElementById("total-sales-out-till").innerHTML=`till total: ${e}`});var u=document.getElementById("product");u.addEventListener("change",function(){currentOption=u.value,currentOptionText=this.options[this.selectedIndex].text,$("#sc").load(`loadBuying/${currentOption}`,function(e,t,l){document.getElementById("bought-price").value=e,document.getElementById("bought-item").value=currentOptionText})}),$(document).ready(function(){$("#exp").load(`loadLatestExpense/${document.getElementById("date").value}`),$("#sl").load(`loadLatestSold/${document.getElementById("date").value}`),document.getElementById("date__").value=document.getElementById("date").value,$("#product").append($("#product option").remove().sort(function(e,t){var l=$(e).text(),n=$(t).text();return l>n?1:l<n?-1:0})),document.getElementById("date").addEventListener("change",()=>{$("#exp").load(`loadLatestExpense/${document.getElementById("date").value}`),$("#sl").load(`loadLatestSold/${document.getElementById("date").value}`)}),document.addEventListener("load",e=>{$("#exp").load(`loadLatestExpense/${document.getElementById("date").value}`),$("#sl").load(`loadLatestSold/${document.getElementById("date").value}`)}),$(".save-record").click(function(d){d.preventDefault(),""==e.value||""==t.value||""==o.value||""==a.value||""==l.value||""==n.value||""==document.getElementById("date").value?(t.style.border="1.5px solid red",e.style.border="1.5px solid red",a.style.border="1.5px solid red",o.style.border="1.5px solid red",l.style.border="1.5px solid red",n.style.border="1.5px solid red",sleep(2500).then(()=>{t.style.border="",e.style.border="",a.style.border="",o.style.border="",l.style.border="",n.style.border=""})):$.ajax({url:`${hostUrl}/pages/CheckSaleExpense`,type:"GET",dataType:"json",success:function(d){200==d.statusCode?(result1=confirm("do you confirm that the sale data is correct, click ok to seed and save record"),result1&&$.ajax({url:`${hostUrl}/pages/SaveSaleRecord`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value,date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?$.ajax({url:`${hostUrl}/pages/SaveNetTotal`,type:"POST",data:{date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})):317==d.statusCode?(result2=confirm("No sale made, do you still want to continue?"),result2&&$.ajax({url:`${hostUrl}/pages/SaveSaleRecord`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value,date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?$.ajax({url:`${hostUrl}/pages/SaveNetTotal`,type:"POST",data:{date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})):318==d.statusCode?(result2=confirm("No expenses added, please add null expense?"),result2&&$.ajax({url:`${hostUrl}/pages/SaveSaleRecord`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value,date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?$.ajax({url:`${hostUrl}/pages/SaveNetTotal`,type:"POST",data:{date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})):319==d.statusCode&&(result2=confirm("No sale or expense today, do you still want to continue?"),result2&&$.ajax({url:`${hostUrl}/pages/SaveSaleRecord`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value,date:document.getElementById("date").value},dataType:"json",success:function(e){200==e.statusCode?$.ajax({url:`${hostUrl}/pages/SaveNetTotal`,type:"POST",data:{date:document.getElementById("date__").value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}))}})}),$("#n-expense").click(function(e){if(""==document.getElementById("expense_n").value||""==document.getElementById("expense-value").value)document.getElementById("expense_n").style.border="1.5px solid red",document.getElementById("expense-value").style.border="1.5px solid red",sleep(2250).then(()=>{document.getElementById("expense_n").style.border="",document.getElementById("expense-value").style.border=""});else{var t=document.getElementById("expense_n").value,l=document.getElementById("expense-value").value;$.ajax({url:`${hostUrl}/pages/SaveExpense`,type:"POST",data:{expense:t,amount:l,date:document.getElementById("date__").value},dataType:"json",success:function(e){200==e.statusCode?([document.getElementById("expense_n"),document.getElementById("expense-value")].forEach(e=>{e.value=""}),$("#exp").load(`loadLatestExpense/${document.getElementById("date").value}`)):e.statusCode}})}}),$("form").on("submit",function(e){e.preventDefault();var t=$(this);if(""==c.value)document.getElementById("sales-cash").style.border="1.5px solid red",document.getElementById("bought-item").style.border="1.5px solid red",document.getElementById("bought-price").style.border="1.5px solid red",document.getElementById("sales-till").style.border="1.5px solid red",sleep(2500).then(()=>{document.getElementById("bought-item").style.border="",document.getElementById("bought-price").style.border="",document.getElementById("sales-cash").style.border="",document.getElementById("sales-till").style.border=""});else{document.getElementById("bought-price").value,document.getElementById("bought-item").value,document.getElementById("sales-cash").value,document.getElementById("sales-till").value,document.getElementById("sales-profit").value,document.getElementById("product").value;$.ajax({url:`${hostUrl}/pages/saveSaleCash`,type:"POST",data:t.serialize(),dataType:"json",success:function(e){200==e.statusCode?([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),$("#product").prop("selected",function(){return this.defaultSelected}),$("#sl").load(`loadLatestSold/${document.getElementById("date").value}`),$("#open-modal").load("loadInventoryData")):317==e.statusCode?([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#f85f5f",$("#add-alert").html("connection error, check database or internet connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})):318==e.statusCode&&([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("the item is currently not in stock, add it to the inventory first!"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})}})})}},__verify:{init:function(){function e(){const e=document.getElementById("passwordnew"),t=document.querySelector("#passwordnew-err");e.value.length<8?(e.style.border="2px solid red",e.style.outline="none",t.style.display="block",t.innerHTML="password must contain at least 8 characters   1 lowercase character 1 upercase character and  1 numeric value",sleep(7500).then(()=>{t.style.display="none"})):(t.style.display="none",e.style.border="")}function t(){const e=document.getElementById("passwordnew-c"),t=document.getElementById("passwordnew"),l=document.querySelector("#passwordnew-err-c");e.value!==t.value?(e.style.border="2px solid red",e.style.outline="none",l.style.display="block",l.innerHTML="password do not match",sleep(7500).then(()=>{l.style.display="none"})):(l.style.display="none",e.style.border="")}document.getElementById("passwordnew").addEventListener("input",e),document.getElementById("passwordnew-c").addEventListener("input",t)}},__playstation:{init:function(){FilterInventory();var e=document.getElementById("filter-playstation");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/ps/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/ps/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__cyber:{init:function(){FilterInventory();var e=document.getElementById("filter-cyber");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/cyber/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/cyber/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__addItem:{init:function(){FilterInventory(),$(document).ready(function(){$("form").on("submit",function(e){e.preventDefault();var t=document.querySelector("#item-name"),l=document.querySelector("#item-quantity"),n=document.querySelector("#item-bp"),o=document.querySelector("#model");itemImage=document.querySelector("#product-image"),document.querySelector("#add-record-invent").disabled=!0;var a=new FormData,d=$("#product-image")[0].files[0];a.append("product-image",d),$.ajax({url:`${hostUrl}/pages/saveInventory`,type:"POST",data:new FormData(this),contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){200==e.statusCode?(document.querySelector(".alert_success").style.display="none",document.getElementsByClassName("loader")[0].style.display="block",sleep(2100).then(()=>{document.getElementsByClassName("loader")[0].style.display="none",document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.display="block",document.getElementById("inventory-alert").style.color="#fff",document.getElementById("inventory-alert").innerHTML="item added successfully!",$("#open-modal").load("loadInventoryData"),[t,l,n,o,itemImage].forEach(e=>{e.value=""}),$("#product-avatar").attr("src",`${hostUrl}/public/images/images/open-box.png`),document.getElementById("product-image").value="",sleep(3500).then(()=>{document.querySelector("#add-record-invent").disabled=!1,document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""})})):201==e.statusCode?(document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.color="#f44336",$("#inventory-alert").html("invalid file or missing field, please try again"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""})):417==e.statusCode?(document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.color="#f44336",$("#inventory-alert").html("request could not be completed, check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""})):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.color="#f44336",$("#inventory-alert").html("please change the item name or image name, a similar record already exists"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""}))}})})})}},__expense:{init:function(){FilterInventory();var e=document.getElementById("filter-expense");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/expense/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/expense/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__filterReport:{init:function(){FilterInventory()}},__movieshop:{init:function(){FilterInventory();var e=document.getElementById("fiter-movieshop");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/movie/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/movie/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__sales:{init:function(){FilterInventory();var e=document.getElementById("filter-sales");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/sales/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/sales/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__total:{init:function(){FilterInventory();var e=document.getElementById("filter-total");e.addEventListener("change",function(){currentOption=e.value,currentOptionText=this.options[this.selectedIndex].value,location.replace(`${hostUrl}/pages/reports/total/${currentOptionText}`)}),document.getElementById("get-repo-btw").addEventListener("click",()=>{var e=document.querySelector("#date-1"),t=document.querySelector("#date-2");""!==e.value&&""!==t.value?location.replace(`${hostUrl}/pages/date/total/${e.value}/${t.value}`):(e.style.border="2px solid red",e.style.outline="none",t.style.border="2px solid red",t.style.outline="none",sleep(2500).then(()=>{e.style.border="",e.style.outline="",t.style.border="",t.style.outline=""}))})}},__reports:{init:function(){FilterInventory()}},__viewEdit:{init:function(){FilterInventory();const e=document.getElementById("cyber-cash"),t=document.getElementById("cyber-till"),l=document.getElementById("ps-cash"),n=document.getElementById("ps-till"),o=document.getElementById("movie-cash"),a=document.getElementById("movie-till"),d=document.getElementById("sales-cash"),s=document.getElementById("sales-till"),r=document.getElementById("bought-price"),c=document.getElementById("sales-profit");document.getElementById("expense-value");d.addEventListener("input",function(){""!==s.value?(s.style.border="2px solid red",s.style.outline="none",document.getElementsByName("sales-till")[0].placeholder="fill one only",sleep(1e3).then(()=>{document.getElementsByName("sales-till")[0].placeholder="sell..till/other",s.style.border="",s.style.outline="",s.value=""})):""==d.value?c.value=0:c.value=d.value-r.value}),s.addEventListener("input",function(){""!==d.value?(d.style.border="2px solid red",d.style.outline="none",document.getElementsByName("sales-cash")[0].placeholder="fill one only",sleep(1e3).then(()=>{document.getElementsByName("sales-till")[0].placeholder="sell..cash",d.style.border="",d.style.outline="",d.value=""})):""==s.value?c.value=0:c.value=s.value-r.value});$(document).on("input",".income-calc",function(){var e=0;$(".income-calc").each(function(){e+=+$(this).val()}),$("#total-cash").val(e);$("#total-cash").val(e);document.getElementById("total-sales-out-cash").innerHTML=`cash total: ${e}`}),$(document).on("input",".income-calc-till",function(){var e=0;$(".income-calc-till").each(function(){e+=+$(this).val()}),$("#total-till").val(e);$("#total-till").val(e);document.getElementById("total-sales-out-till").innerHTML=`till total: ${e}`});var u=document.getElementById("product");u.addEventListener("change",function(){currentOption=u.value,currentOptionText=this.options[this.selectedIndex].text;var e=document.getElementById("recorddate").value;$.ajax({url:`${hostUrl}/pages/loadBuyingEdit/${e}/${currentOption}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t=e.row;document.getElementById("bought-price").value=t,document.getElementById("bought-item").value=currentOptionText}else document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be fetched, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})}})}),$(document).ready(function(){var u=document.getElementById("recorddate").value;$.ajax({url:`${hostUrl}/pages/loadLatestExpenseEdit/${u}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t="";e.row.forEach(e=>{t+=`<p id="${e.expense_id}" class="total-expense">${e.expense_item} - ${e.expense_cost}\n                <button class="close-expense" type="button">&times;</button>\n                </p>`,$("#exp").html(t)}),cancelExpense=document.querySelectorAll(".close-expense");for(var l=0;l<cancelExpense.length;l++)cancelExpense[l].addEventListener("click",function(e){confirm("delete expense?")?(currentId=this.parentNode.id,hideParent=this.parentElement.style.display="none",$.ajax({url:`${hostUrl}/pages/DeleteExpenseNow`,type:"POST",data:{id:currentId},dataType:"json",success:function(e){200==e.statusCode?hideParent:317==e.statusCode&&hideParent}})):e.preventDefault()})}else document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be fetched, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})}}),$.ajax({url:`${hostUrl}/pages/loadLatestSaleEdit/${u}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t="";e.row.forEach(e=>{t+=`<p id="${e.sales_id}" class="total-expense">${e.sales_item} - ${e.buying_price}\n                <button class="close-sale" type="button">&times;</button>\n                </p>`,$("#sl").html(t)}),cancelExpense=document.querySelectorAll(".close-sale");for(var l=0;l<cancelExpense.length;l++)cancelExpense[l].addEventListener("click",function(e){confirm("delete sale?")?(currentId=this.parentNode.id,hideParent=this.parentElement.style.display="none",$.ajax({url:`${hostUrl}/pages/DeleteSaleNow`,type:"POST",data:{id:currentId},dataType:"json",success:function(e){200==e.statusCode?hideParent:317==e.statusCode&&hideParent}})):e.preventDefault()})}else document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be fetched, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})}}),$("form").on("submit",function(e){e.preventDefault();var t=$(this);if(""==c.value)document.getElementById("sales-cash").style.border="1.5px solid red",document.getElementById("bought-item").style.border="1.5px solid red",document.getElementById("bought-price").style.border="1.5px solid red",document.getElementById("sales-till").style.border="1.5px solid red",sleep(2500).then(()=>{document.getElementById("bought-item").style.border="",document.getElementById("bought-price").style.border="",document.getElementById("sales-cash").style.border="",document.getElementById("sales-till").style.border=""});else{document.getElementById("bought-price").value,document.getElementById("bought-item").value,document.getElementById("sales-cash").value,document.getElementById("sales-till").value,document.getElementById("sales-profit").value,document.getElementById("product").value;$.ajax({url:`${hostUrl}/pages/saveSaleCashEdit/${u}`,type:"POST",data:t.serialize(),dataType:"json",success:function(e){200==e.statusCode?([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),$("#product").prop("selected",function(){return this.defaultSelected}),$.ajax({url:`${hostUrl}/pages/loadLatestSaleEdit/${u}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t="";e.row.forEach(e=>{t+=`<p id="${e.sales_id}" class="total-expense">${e.sales_item} - ${e.buying_price}\n                <button class="close-sale" type="button">&times;</button>\n                </p>`,$("#sl").html(t)}),cancelExpense=document.querySelectorAll(".close-sale");for(var l=0;l<cancelExpense.length;l++)cancelExpense[l].addEventListener("click",function(e){confirm("delete sale?")?(currentId=this.parentNode.id,hideParent=this.parentElement.style.display="none",$.ajax({url:`${hostUrl}/pages/DeleteSaleNow`,type:"POST",data:{id:currentId},dataType:"json",success:function(e){200==e.statusCode?hideParent:317==e.statusCode&&hideParent}})):e.preventDefault()})}else document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be fetched, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})}})):317==e.statusCode?([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#f85f5f",$("#add-alert").html("connection error, check database or internet connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})):318==e.statusCode&&([document.getElementById("bought-price"),document.getElementById("bought-item"),document.getElementById("sales-cash"),document.getElementById("sales-till"),document.getElementById("sales-profit")].forEach(e=>{e.value=""}),document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("the item is currently not in stock, add it to the inventory first!"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})}}),$("#n-expense").click(function(e){if(""==document.getElementById("expense_n").value||""==document.getElementById("expense-value").value)document.getElementById("expense_n").style.border="1.5px solid red",document.getElementById("expense-value").style.border="1.5px solid red",sleep(2250).then(()=>{document.getElementById("expense_n").style.border="",document.getElementById("expense-value").style.border=""});else{var t=document.getElementById("expense_n").value,l=document.getElementById("expense-value").value;$.ajax({url:`${hostUrl}/pages/SaveExpenseEdit/${u}`,type:"POST",data:{expense:t,amount:l},dataType:"json",success:function(e){200==e.statusCode?([document.getElementById("expense_n"),document.getElementById("expense-value")].forEach(e=>{e.value=""}),$.ajax({url:`${hostUrl}/pages/loadLatestExpenseEdit/${u}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t="";e.row.forEach(e=>{
t+=`<p id="${e.expense_id}" class="total-expense">${e.expense_item} - ${e.expense_cost}\n                                  <button class="close-expense" type="button">&times;</button>\n                                  </p>`,$("#exp").html(t)}),cancelExpense=document.querySelectorAll(".close-expense");for(var l=0;l<cancelExpense.length;l++)cancelExpense[l].addEventListener("click",function(e){confirm("delete expense?")?(currentId=this.parentNode.id,hideParent=this.parentElement.style.display="none",$.ajax({url:`${hostUrl}/pages/DeleteExpenseNow`,type:"POST",data:{id:currentId},dataType:"json",success:function(e){200==e.statusCode?hideParent:317==e.statusCode&&hideParent}})):e.preventDefault()})}else document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be fetched, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""})}})):317==e.statusCode&&($("#add-alert").html("an error occurred while saving the expense, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})}}),d.style.border="",s.style.border="",r.style.border="",c.style.border="",$(".save-record").click(function(d){if(d.preventDefault(),""==e.value||""==t.value||""==o.value||""==a.value||""==l.value||""==n.value)t.style.border="1.5px solid red",e.style.border="1.5px solid red",a.style.border="1.5px solid red",o.style.border="1.5px solid red",l.style.border="1.5px solid red",n.style.border="1.5px solid red",sleep(2500).then(()=>{t.style.border="",e.style.border="",a.style.border="",o.style.border="",l.style.border="",n.style.border=""});else{var s=document.getElementById("recorddate").value;$.ajax({url:`${hostUrl}/pages/CheckSaleExpense`,type:"GET",dataType:"json",success:function(d){200==d.statusCode?(result1=confirm("confirm the changes made?"),result1&&($.ajax({url:`${hostUrl}/pages/SaveSaleRecordEdit/${s}`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}),location.replace(`${hostUrl}/pages/dailyreport`))):317==d.statusCode?(result2=confirm("confirm changes made?"),result2&&($.ajax({url:`${hostUrl}/pages/SaveSaleRecordEdit/${s}`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}),location.replace(`${hostUrl}/pages/dailyreport`))):318==d.statusCode?(result2=confirm("confirm changes made?"),result2&&($.ajax({url:`${hostUrl}/pages/SaveSaleRecordEdit/${s}`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}),location.replace(`${hostUrl}/pages/dailyreport`))):319==d.statusCode&&(result2=confirm("confirm changes made?"),result2&&($.ajax({url:`${hostUrl}/pages/SaveSaleRecordEdit/${s}`,type:"POST",data:{cybercash:e.value,cybertill:t.value,moviecash:o.value,movietill:a.value,pscash:l.value,pstill:n.value},dataType:"json",success:function(e){200==e.statusCode?location.replace(`${hostUrl}/pages/dailyreport`):317==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, record could not be saved, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}}),location.replace(`${hostUrl}/pages/dailyreport`)))}})}})})}},viewItem:{init:function(){var e=new ThreeSixty(document.getElementById("threesixty"),{image:document.getElementById("item-image").src,width:"60%",height:"50%",prev:document.getElementById("prev"),next:document.getElementById("next")});e.play()}},editItem:{init:function(){itemQty=document.getElementById("item-quantity").value,document.getElementById("item-increase").addEventListener("change",()=>{var e=parseInt(itemQty)+parseInt(document.getElementById("item-increase").value);document.getElementById("item-current-qty").value=e}),document.getElementById("item-increase").addEventListener("input",()=>{var e=parseFloat(itemQty)+parseFloat(document.getElementById("item-increase").value);document.getElementById("item-current-qty").value=e}),$(document).ready(function(){$("form").on("submit",function(e){e.preventDefault();document.querySelector("#item-name"),document.querySelector("#item-quantity"),document.querySelector("#item-bp"),document.querySelector("#model");itemImage=document.querySelector("#product-image");var t=new FormData,l=$("#product-image")[0].files[0];t.append("product-image",l),$.ajax({url:`${hostUrl}/pages/saveInventoryEdit/${document.getElementById("item-id").value}`,async:!0,type:"POST",data:new FormData(this),contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){200==e.statusCode?(document.querySelector(".alert_success").style.display="none",document.getElementsByClassName("loader")[0].style.display="block",sleep(2100).then(()=>{document.getElementsByClassName("loader")[0].style.display="none",document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.display="block",document.getElementById("inventory-alert").style.color="#fff",document.getElementById("inventory-alert").innerHTML="changes saved successfully!",$("#product-avatar").attr("src",`${hostUrl}/public/images/images/open-box.png`),document.getElementById("product-image").value="",sleep(3500).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""})})):201==e.statusCode?(document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.color="#f85f5f",$("#inventory-alert").html("invalid file or missing field, please try again"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""})):417==e.statusCode&&(document.querySelector(".alert").style.display="block",document.getElementById("inventory-alert").style.color="#f85f5f",$("#inventory-alert").html("request could not be completed, check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("inventory-alert").innerHTML=""}))}})})})}},removeItem:{init:function(){document.getElementById("cancel-remove"),document.getElementById("accept-remove");$("#cancel-remove").click(function(e){history.back()}),$("#accept-remove").click(function(e){var t=document.getElementById("item-id").value;$.ajax({url:`${hostUrl}/pages/DeleteItem`,type:"POST",data:{ID:t},dataType:"json",success:function(e){200==e.statusCode?history.back():(document.querySelector(".alert").style.display="block",document.getElementById("add-alert").style.color="#fff",$("#add-alert").html("an error occurred, item could not be removed, please check your connection"),sleep(4700).then(()=>{document.querySelector(".alert_success").style.display="none",document.getElementById("add-alert").innerHTML=""}))}})})}},deleteRecord:{init:function(){document.getElementById("cancel-remove"),document.getElementById("accept-remove");$("#cancel-remove").click(function(e){location.replace(`${hostUrl}/pages/dailyreport`)}),$("#password").on("keyup",function(e){if("Enter"===e.key||13===e.keyCode){var t=document.getElementById("item-id").value,l=document.getElementById("password").value,n=document.getElementById("date-").value;$.ajax({url:`${hostUrl}/pages/DeleteRecordAll`,type:"POST",data:{ID:t,Password:l,Date:n},dataType:"json",success:function(e){200==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",location.replace(`${hostUrl}/pages/dailyreport`)})):317==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("an error occurred, record could not be deleted, please check your connection")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"})):300==e.statusCode&&(document.querySelector(".text-").style.display="none",document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("Incorrect password, please try again")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"}))}})}}),$("#accept-remove").click(function(e){var t=document.getElementById("item-id").value,l=document.getElementById("password").value,n=document.getElementById("date-").value;$.ajax({url:`${hostUrl}/pages/DeleteRecordAll`,type:"POST",data:{ID:t,Password:l,Date:n},dataType:"json",success:function(e){200==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",location.replace(`${hostUrl}/pages/dailyreport`)})):317==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("an error occurred, record could not be deleted, please check your connection")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"})):300==e.statusCode&&(document.querySelector(".text-").style.display="none",document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("Incorrect password, please try again")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"}))}})})}},__cashOut:{init:function(){function e(e){for(var t="",l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=l.length,o=0;o<e;o++)t+=l.charAt(Math.floor(Math.random()*n));return t}document.getElementById("receipt-num").value=e(8),$("form").on("submit",function(e){e.preventDefault();var t=document.getElementById("amount").value,l=document.getElementById("usage").value,n=document.getElementById("cash-from").value,o=document.getElementById("date-").value,a=document.getElementById("handler").value,d=document.getElementById("receipt-num").value;cash=[t,l,n,o,a,d],console.log(cash),$.ajax({url:`${hostUrl}/pages/cashReceipt/${cash}`,type:"POST"}),location.replace(`${hostUrl}/pages/cashReceipt/${cash}`)})}},__cashReceipt:{init:function(){$("#save-cashout").click(function(e){document.getElementsByClassName("load-wrapp")[0].style.display="block";var t=document.getElementById("amount").value,l=document.getElementById("usage").value,n=document.getElementById("from").value,o=document.getElementById("date__").value,a=document.getElementById("handler").value,d=document.getElementById("receipt").value;$.ajax({url:`${hostUrl}/pages/saveCashout`,type:"POST",data:{Amount:t,Usage:l,From:n,Date:o,Handler:a,Receipt:d},dataType:"json",success:function(e){200==e.statusCode?"movie"===n?location.replace(`${hostUrl}/pages/movieShop`):"ps"===n?location.replace(`${hostUrl}/pages/playstation`):"cyber"===n?location.replace(`${hostUrl}/pages/cyber`):"sales"===n?location.replace(`${hostUrl}/pages/sales`):"total"===n&&location.replace(`${hostUrl}/pages/total`):318==e.statusCode?(document.getElementsByClassName("load-wrapp")[0].style.display="none",document.querySelector(".alert_failed").style.display="block",$("#add-alert").html("The requested station does not have enough money to make that cashout, please try another station"),sleep(4700).then(()=>{document.querySelector(".alert_failed").style.display="none",$("#add-alert").html("")})):317==e.statusCode&&(document.getElementsByClassName("load-wrapp")[0].style.display="none",document.querySelector(".alert_failed").style.display="block",$("#add-alert").html("connection error, please try again"),sleep(4700).then(()=>{document.querySelector(".alert_failed").style.display="none",$("#add-alert").html("")}))}})})}},__list:{init:function(){FilterInventory()}},__attatchReceipt:{init:function(){}},__date:{init:function(){}},__cashouts:{init:function(){(function(e){"use strict";var t=function(t){function l(l){o=l.target;var a=e.getElementsByClassName(o.getAttribute("data-table"));t.forEach.call(a,function(e){t.forEach.call(e.tBodies,function(e){t.forEach.call(e.rows,n)})})}function n(e){var t=e.textContent.toLowerCase(),l=o.value.toLowerCase();e.style.display=-1===t.indexOf(l)?"none":"table-row"}var o;return{init:function(){var n=e.getElementsByClassName("cashouts-filter");t.forEach.call(n,function(e){e.oninput=l})}}}(Array.prototype);e.addEventListener("readystatechange",function(){"complete"===e.readyState&&t.init()})})(document)}},__deleteCashout:{init:function(){document.getElementById("cancel-remove"),document.getElementById("accept-remove");$("#cancel-remove").click(function(e){location.replace(`${hostUrl}/pages/cashouts`)}),$("#password").on("keyup",function(e){if(13===e.keyCode){var t=document.getElementById("item-id").value,l=document.getElementById("password").value;$.ajax({url:`${hostUrl}/pages/DeleteCashoutAll`,type:"POST",data:{ID:t,Password:l},dataType:"json",success:function(e){200==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",location.replace(`${hostUrl}/pages/cashouts`)})):317==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("an error occurred, record could not be deleted, please check your connection")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"})):300==e.statusCode&&(document.querySelector(".text-").style.display="none",document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("Incorrect password, please try again")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"}))}})}}),$("#accept-remove").click(function(e){var t=document.getElementById("item-id").value,l=document.getElementById("password").value;$.ajax({url:`${hostUrl}/pages/DeleteCashoutAll`,type:"POST",data:{ID:t,Password:l},dataType:"json",success:function(e){200==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",location.replace(`${hostUrl}/pages/cashouts`)})):317==e.statusCode?(document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("an error occurred, record could not be deleted, please check your connection")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"})):300==e.statusCode&&(document.querySelector(".text-").style.display="none",document.getElementById("deleteloader").style.display="block",sleep(4e3).then(()=>{document.getElementById("deleteloader").style.display="none",document.querySelector(".text-").style.display="block",$(".text-").html("Incorrect password, please try again")}),sleep(8100).then(()=>{document.querySelector(".text-").style.display="none"}))}})})}},__invoices:{init:function(){$("#search-").click(function(e){""!=document.getElementById("invoice-item").value?($("#invoice-result").html(""),$("#invoice-loading").fadeIn(),sleep(2200).then(()=>{$("#invoice-loading").fadeOut(),$.ajax({url:`${hostUrl}/pages/loadInvoiceSearch/${document.getElementById("invoice-item").value}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t='\n                  <table class="table table-striped table-cashouts">\n                  <thead>\n                      <tr>\n                          <th> Date </th>\n                          <th> Sales Item </th>\n                          <th> Buying Price </th>\n                          <th> Selling Price </th>\n                          <th> Profit </th>\n                          <th> Invoice </th>\n                      </tr>\n                  </thead>\n                  <tbody>\n                  ';e.row.forEach(e=>{t+=`\n                    <tr>\n                    <th>${e.date_created}</th>\n                    <th>${e.sales_item}</th>\n                    <th>${e.buying_price}</th>\n                    <th>${e.selling_price}</th>\n                    <th>${e.profit}</th>\n                    <th><a href=${hostUrl}/pages/invoice/sale/${e.sales_id}>invoice</a></th>\n                    </tr>\n                    `,$("#invoice-result").html(t)})}else{var l="";l+='<p class="text-danger">record could not be foind, check your connection and try again</p>',$("#invoice-result").html(l)}}})})):(document.getElementById("invoice-item").style.border="1px solid red",sleep(2500).then(()=>{document.getElementById("invoice-item").style.border=""}))}),$("#invoice-item").on("keyup",function(e){13===e.keyCode&&(""!=document.getElementById("invoice-item").value?($("#invoice-result").html(""),$("#invoice-loading").fadeIn(),sleep(2200).then(()=>{$("#invoice-loading").fadeOut(),$.ajax({url:`${hostUrl}/pages/loadInvoiceSearch/${document.getElementById("invoice-item").value}`,type:"GET",dataType:"json",success:function(e){if(200==e.statusCode){var t='\n                    <table class="table table-striped table-cashouts">\n                    <thead>\n                        <tr>\n                            <th> Date </th>\n                            <th> Sales Item </th>\n                            <th> Buying Price </th>\n                            <th> Selling Price </th>\n                            <th> Profit </th>\n                            <th> Invoice </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                    ';e.row.forEach(e=>{t+=`\n                      <tr>\n                      <th>${e.date_created}</th>\n                      <th>${e.sales_item}</th>\n                      <th>${e.buying_price}</th>\n                      <th>${e.selling_price}</th>\n                      <th>${e.profit}</th>\n                      <th><a href=${hostUrl}/pages/invoice/sale/${e.sales_id}>invoice</a></th>\n                      </tr>\n                      `,$("#invoice-result").html(t)})}else{var l="";l+='<p class="text-danger">record could not be foind, check your connection and try again</p>',$("#invoice-result").html(l)}}})})):(document.getElementById("invoice-item").style.border="1px solid red",sleep(2500).then(()=>{document.getElementById("invoice-item").style.border=""})))})}},__profiler:{init:function(){$("#save-profile").click(function(e){$("#profile-loading").fadeIn(),sleep(2200).then(()=>{$("#profile-loading").fadeOut(),$.ajax({url:`${hostUrl}/Users/saveProfile`,type:"POST",data:{username:document.getElementById("username").value,email:document.getElementById("email").value,oldPassword:document.getElementById("old").value,newPassword:document.getElementById("new").value},dataType:"json",success:function(e){if(200==e.statusCode){console.log("200");var t='\n                <div class="card bg-gradient-success">\n                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                    <span aria-hidden="true">&times;</span>\n                  </button>\n                  <strong>Success!</strong> Profile has been saved.\n                </div>\n                ';$("#profile-result").html(t)}else if(201==e.statusCode){console.log("201");var l="";l+='<p class="text-danger">record could not be found, check your connection and try again</p>',$("#profile-result").html(l)}else if(317==e.statusCode){console.log("317");l="";l+='<div class="card bg-gradient-success">\n                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n                <strong>Error!</strong> Incorrect password, please try again.\n              </div>',$("#profile-result").html(l)}}})})})}}};